{% extends "base_public.html" %}
{% block content %}
<div class="container section-padding">
    <h2 class="section-title">Search Results</h2>
    <div class="alert alert-info text-center mb-5">
        Showing rooms available from <strong>{{ check_in }}</strong> to <strong>{{ check_out }}</strong> for <strong>{{ guests }}</strong> guest(s).
    </div>

    <div class="row">
        {% for room in rooms %}
        <div class="col-md-4 card-spacer">
            <div class="content-card h-100">
                {% if room.images %}
                <img src="{{ room.images[0].image_url }}" class="room-img" style="height: 200px;">
                {% else %}
                <img src="https://via.placeholder.com/400x250?text=No+Image" class="room-img" style="height: 200px;">
                {% endif %}
                
                <div class="card-body-custom d-flex flex-column">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0 fw-bold">{{ room.name }}</h5>
                        <span class="badge bg-secondary"><i class="bi bi-people"></i> {{ room.capacity }}</span>
                    </div>
                    
                    <div class="my-3">
                        <h4 class="text-success fw-bold">${{ room.dynamic_total }}</h4>
                        <small class="text-muted">Total Price for stay</small>
                    </div>
                    
                    <a href="/app/{{ config.extension }}/book/{{ room.id }}?check_in={{ check_in }}&check_out={{ check_out }}&guests={{ guests }}" class="btn-primary-custom mt-auto">Select Room</a>
                </div>
            </div>
        </div>
        {% else %}
        <div class="col-12 text-center">
            <h4 class="text-muted">No rooms available for these dates/criteria.</h4>
            <a href="/app/{{ config.extension }}" class="btn btn-secondary mt-3">Try different dates</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}